<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AUROTA PHOTOGRAPHY</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Locomotive Scroll CSS -->
  <link 
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/locomotive-scroll@4.1.4/dist/locomotive-scroll.min.css"
  />

  <!-- Main CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- GSAP & ScrollTrigger -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  </head>

<body>
  <!-- Locomotive Scroll Container -->
  <div data-scroll-container id="smooth-wrapper">

    <!-- NAVIGATION -->
    <nav class="navbar">
      <div class="logo">Aurora</div>
      <ul class="nav-link">
        <li><a href="#">Home</a></li>
        <li><a href="#">About</a></li>
        <li><a href="#">Journal</a></li>
        <li><a href="#">Contact</a></li>
        <li><a href="#">Studio</a></li>
      </ul>
      <div class="social">
        <a href="#"><img src="facebook.png" alt="facebook" /></a>
        <a href="#"><img src="instagram.png" alt="instagram" /></a>
        <a href="#"><img src="twitter.png" alt="twitter" /></a>
      </div>
    </nav>

    <!-- SECTION 1: Hero -->
    <section class="section-hero">
      <div class="hero-content">
        <div class="hero">
          <h1 class="hero-1"> CREATE IMPACT </h1>
        </div>
        <div class="sub2-container">
          <hr />
          <p>&nbsp; SCROLL & EXPLORE &nbsp;</p>
          <hr />
        </div>
      </div>
    </section>

    <!-- SECTION 2: Expandable Video -->
    <section class="section-video">
      <div class="text">
        We offer prestigious and well organised photography service
      </div>
      <div class="text2">
        Authentically uncover the art of YOU
      </div>
      <div class="video-block">
        <div class="video-block__container">
          <figure class="video">
            <video
              autoplay
              loop
              muted
              playsinline
              src="https://pub-9f13b906b3ec4b04ad21dcfb9b9b6197.r2.dev/mixkit-people-pouring-a-warm-drink-around-a-campfire-513-full-hd.mp4"
            ></video>
            <figcaption class="video__caption" style="left: 24px; bottom: 12px;">
              <span>Capture the world through lens</span>
            </figcaption>
          </figure>
        </div>
      </div>
    </section>

    <!-- SECTION MID -->
    <section  data-scroll-container class="section-mid">
      <div class="mid-heading">
        <h1 class="left-h1" style="padding: 0 0 0 2.5em;"
         data-scroll data-scroll-direction="horizontal"
         data-scroll-speed="-3" data-scroll-class="appear"
          data-scroll-repeat="true">Take a look at what we do</h1>
        <a class="mid-link" href="#">
          Read More > 
        </a>
        </div>
      <!-- A wrapper for all "cards" -->
      <div class="mid-cards">
    
        <!-- Card 1 -->
        <div  class="mid-card">
          <div class="card-media">
            <video class="card-video" autoplay loop muted src="https://pub-9f13b906b3ec4b04ad21dcfb9b9b6197.r2.dev/green.mp4"></video>
          </div>
          <div class="card-content">
            <div class="card-tag">[ Wild ]</div>
            <h2 class="card-heading">NATURAL</h2>
            <p class="card-text">
              Lorem Ipsum is simply dummy text of the printing and typesetting industry.
              Lorem Ipsum has been the industry's standard dummy text ever since the
              1500s, when an unknown printer took a galley of type and scrambled it to
              make a type specimen book. It has survived not only five centuries, but
              also the leap into electronic typesetting, remaining essentially unchanged.
            </p>
          </div>
        </div>
    
        <!-- Card 2 -->
        <div class="mid-card">
          <div class="card-media">
            <video class="card-video" autoplay loop muted src="https://pub-9f13b906b3ec4b04ad21dcfb9b9b6197.r2.dev/desert.mp4"></video>
          </div>
          <div class="card-content">
            <div class="card-tag">[ Windswept ]</div>
            <h2 class="card-heading">DESERT</h2>
            <p class="card-text">
              Lorem Ipsum is simply dummy text of the printing and typesetting industry.
              Lorem Ipsum has been the industry's standard dummy text ever since the
              1500s, when an unknown printer took a galley of type and scrambled it to
              make a type specimen book. It has survived not only five centuries, but
              also the leap into electronic typesetting, remaining essentially unchanged.
            </p>
          </div>
        </div>
    
        <!-- Card 3 -->
        <div class="mid-card">
          <div class="card-media">
            <video class="card-video" autoplay loop muted src="https://pub-9f13b906b3ec4b04ad21dcfb9b9b6197.r2.dev/snow.mp4"></video>
          </div>
          <div class="card-content">
            <div class="card-tag">[ Frosty ]</div>
            <h2 class="card-heading">SNOW</h2>
            <p class="card-text">
              Lorem Ipsum is simply dummy text of the printing and typesetting industry.
              Lorem Ipsum has been the industry's standard dummy text ever since the
              1500s, when an unknown printer took a galley of type and scrambled it to
              make a type specimen book. It has survived not only five centuries, but
              also the leap into electronic typesetting, remaining essentially unchanged.
            </p>
          </div>
        </div>
    
      </div>
    </section>
    

    <!-- SECTION END -->
    <section class="section-end">
      <div class="end-container">
        <div class="end-heading">
          <h1 class="end-h1">We Are Solvers</h1>
          <p class="end-p">Emphasize your unique style, philosophy, or approach to filmmaking.</p>
        </div>
        <div class="img">
          <img class="fullpage" src="/Project-2/kal-visuals-kJklJAcwqLk-unsplash.jpg" alt="Aurora">
        </div>
      </div>
    </section>
    


  <!-- Locomotive Scroll JS -->
  <script src="https://cdn.jsdelivr.net/npm/locomotive-scroll@4.1.4/dist/locomotive-scroll.min.js"></script>

  <!-- Main JS for GSAP + ScrollTrigger -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      /* 1) Initialize Locomotive Scroll */
      const locoScroll = new LocomotiveScroll({
        el: document.querySelector('[data-scroll-container]'),   /*parent*/
        smooth: true
      });

      /* 2) Setup GSAP ScrollTrigger to sync with Locomotive */
      gsap.registerPlugin(ScrollTrigger);
      ScrollTrigger.scrollerProxy("#smooth-wrapper", {
        scrollTop(value) {
          return arguments.length
            ? locoScroll.scrollTo(value, 0, 0)
            : locoScroll.scroll.instance.scroll.y;
        },
        getBoundingClientRect() {
          return {
            top: 0,
            left: 0,
            width: window.innerWidth,
            height: window.innerHeight
          };
        },
        pinType: document.querySelector("#smooth-wrapper").style.transform
          ? "transform"
          : "fixed"
      });

      locoScroll.on("scroll", ScrollTrigger.update);
      ScrollTrigger.addEventListener("refresh", () => locoScroll.update());
      ScrollTrigger.refresh();

      /* 3) Expandable Video Logic */
      const expandableVideoBlock = () => {
        const maxWidth = parseInt(
          getComputedStyle(document.documentElement)
            .getPropertyValue('--container-width')
        ) || 800; // fallback if var not found
        const gap = 24;

        const element = document.querySelector(".video-block");
        if (!element) return;

        const container = element.querySelector(".video-block__container");
        const figure    = element.querySelector("figure.video");
        const video     = element.querySelector("video");
        const captions  = figure.querySelectorAll(".video__caption span");

        let isPlaying = false;
        video.onplaying = () => (isPlaying = true);
        video.onpause   = () => (isPlaying = false);

        function videoPause() {
          if (video && !video.paused && isPlaying) {
            video.pause();
            gsap.to(captions, { y: "100%", duration: 0.8, stagger: 0.1 });
          }
        }
        async function videoPlay() {
          if (video && video.paused && !isPlaying) {
            gsap.to(captions, { y: "0%", duration: 0.5, stagger: 0.1 });
            return await video.play();
          }
        }

        function getClipPath() {
          let insetX = (window.innerWidth - maxWidth - gap) / 2.7;
          let insetY = (window.innerHeight - maxWidth - gap) / 2.7;
          if (insetX < gap) insetX = gap;
          if (insetY < gap) insetY = gap;
          return `inset(${insetY}px ${insetX}px)`;
        }

        // Parallax effect on figure while scrolling into view
        gsap.fromTo(
          figure,
          { clipPath: getClipPath, y: "-50%" },
          {
            scrollTrigger: {
              scroller: "#smooth-wrapper",
              trigger: element,
              start: "top bottom",
              end: "top top",
              scrub: true,
            },
            y: "0%",
            duration: 0.5,
            onStart: () => videoPause()
          }
        );

        // Main timeline: pin the container & animate clip-path
        let tl = gsap.timeline({
          scrollTrigger: {
            scroller: "#smooth-wrapper",
            trigger: container,
            start: "top top",
            end: () => window.innerHeight * 2,
            scrub: true,
            pin: true,
            markers: false, // Turn off markers for cleaner view
          }
        });

        const headline = document.querySelector(".text");
        const subhead  = document.querySelector(".text2");

        tl.to(subhead,  { opacity: 1, y: "55%", duration: 0.5 }, ">");
        tl.to(headline, { opacity: 1, y: "55%", duration: 0.5 }, ">");

        tl.fromTo(
          figure,
          { clipPath: getClipPath },
          {
            clipPath: "inset(0px 0px)",
            duration: 0.5,
            onUpdate: () => videoPause(),
            onComplete: () => videoPlay()
          }
        );

        // Hold the video playing
        tl.fromTo(
          figure,
          { opacity: 1 },
          {
            opacity: 1,
            duration: 1,
            onUpdate: () => videoPlay(),
            onComplete: () => videoPause()
          }
        );

        // Shrink video block back
        tl.fromTo(
          figure,
          { clipPath: "inset(0px 0px)" },
          { clipPath: getClipPath, duration: 0.5 }
        );
      };

      expandableVideoBlock();
    });


    // 
  </script>
  
</body>

  <!-- <footer>
    <div id="footer" class="footer">
      <div class="p-col">
        <h3>LOGO</h3>
        <p>Made with</p>
      </div>
    </div>
  </footer> -->
</html>
